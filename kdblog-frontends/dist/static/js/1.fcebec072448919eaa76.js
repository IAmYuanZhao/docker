webpackJsonp([1],{"+3SY":function(t,e){},"0AAv":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("mvHQ"),a=o.n(i),s=o("nQnN"),r=o("NXNv"),n=o("YbNP"),l=o("2QZS"),c={data:function(){return{defaultFilterList:l.a,categoryParam:{}}},components:{"section-title":s.a,"classify-menu":r.a,"title-menu-filter":n.a},props:{categorys:Array,defaultCategory:"",mainTitle:"",subTitle:""},methods:{filterByMenu:function(t){this.$emit("filterByMenu",t)},filterByCategory:function(t){this.$emit("filterByCategory",t)}}},u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"article-list-header"},[o("classify-menu",{attrs:{categorys:t.categorys,defaultCategory:t.defaultCategory},on:{filterByCategory:t.filterByCategory}}),t._v(" "),o("section-title",{attrs:{mainTitle:t.mainTitle,subTitle:t.subTitle}},[o("title-menu-filter",{attrs:{slot:"menu","menu-filter-list":t.defaultFilterList},on:{filterByMenu:t.filterByMenu},slot:"menu"})],1)],1)},staticRenderFns:[]};var d=o("VU/8")(c,u,!1,function(t){o("jZ8x")},null,null).exports,f=o("dab9"),m={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"article-page-content"}},[this._t("content")],2)},staticRenderFns:[]};var g=o("VU/8")({},m,!1,function(t){o("lgJa")},null,null).exports,p=o("D5Rc"),v=o("WKAP"),h={methods:{onSubmit:function(){}},components:{"license-tag":p.a,"social-section":v.a},props:{likeNum:{},commentList:Array}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"article-page-footer"},[e("license-tag"),this._v(" "),e("social-section",{attrs:{likeNum:this.likeNum,commentList:this.commentList}})],1)},staticRenderFns:[]};var y=o("VU/8")(h,k,!1,function(t){o("VhkS")},null,null).exports,b=o("BcjT"),_=o("wdQg"),C=o("0xDb"),B={name:"book-reading-cell",props:{book:{Type:Object,default:void 0}},mixins:[C.a],methods:{}},N={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"book-reading-cell"},[o("h4",[t._v("正在阅读")]),t._v(" "),o("a",[o("div",{staticClass:"img"},[o("div",{staticClass:"container"},[o("div",{staticClass:"bracket"}),t._v(" "),o("div",{staticClass:"target"},[o("img",{attrs:{src:t.book.cover,alt:""}})])])]),t._v(" "),o("div",{staticClass:"book-info"},[o("p",{staticClass:"title"},[o("a",{attrs:{href:"/book/"+t.book.id}},[t._v(" "+t._s(t.book.title))])]),t._v(" "),o("p",{staticClass:"desc"},[o("span",[t._v("作者：")]),t._v(t._s(t.book.author))]),t._v(" "),o("iv-progress",{attrs:{percent:t.book.progress,"stroke-width":6}},[o("iv-icon",{attrs:{type:"checkmark-circled"}}),t._v(" "),o("span",[t._v(t._s(t.book.progress)+"%")])],1),t._v(" "),o("p",{staticClass:"desc"},[t._v(t._s(t._f("textLineBreak")(t._f("filterHtml")(t.book.description),140)))]),t._v(" "),t._l(t.book.tagList,function(e){return o("iv-tag",{key:e.id,attrs:{type:"border"}},[t._v(t._s(e.name))])})],2)])])},staticRenderFns:[]};var L=o("VU/8")(B,N,!1,function(t){o("+3SY")},null,null).exports,x=o("qm2k"),M=o("XxWu"),P=o("63Js"),$=o("HN2V"),T=o.n($),S={data:function(){return{bookList:[],bookNoteList:[],categoryList:[],currentPage:1,pageSize:l.b,categoryId:void 0,selected_category:this.$route.params.id,menuBookParams:{},menuBookNoteParams:{},noMoreData:!1,readingBookList:[],bookNoteFilterList:JSON.parse(a()(l.a))}},created:function(){this.listBook(),this.listBookNote(),this.listCategory()},methods:{listBook:function(){var t=this,e={categoryId:this.categoryId,limit:this.pageSize,page:1};e=T()(e,this.menuBookParams),this.$http({url:this.$http.adornUrl("/books"),params:this.$http.adornParams(e),method:"get"}).then(function(e){var o=e.data;o&&200===o.code&&(t.bookList=o.page.list,t.readingBookList=t.bookList.filter(function(t){if(t.reading)return t}))})},listBookNote:function(){var t=this,e={categoryId:this.categoryId,limit:this.pageSize,page:this.currentPage};e=T()(e,this.menuBookNoteParams),this.$http({url:this.$http.adornUrl("/bookNotes"),params:this.$http.adornParams(e),method:"get"}).then(function(e){var o=e.data;o&&200===o.code&&(o.page.totalPage<=o.page.currPage?t.noMoreData=!0:t.noMoreData=!1,t.bookNoteList=o.page.list)})},listCategory:function(){var t=this,e={type:1};this.$http({url:this.$http.adornUrl("/operation/categories"),method:"get",params:this.$http.adornParams(e)}).then(function(e){var o=e.data;o&&200===o.code&&(t.categoryList=Object(C.b)(o.categoryList))})},filterByBookMenu:function(t){this.resetCurrentPage(),this.menuBookParams=t,this.listBook()},filterByBookNoteMenu:function(t){this.resetCurrentPage(),this.menuBookNoteParams=t,this.listBookNote()},filterByCategory:function(t){this.resetCurrentPage(),this.categoryId=t,this.listBook(),this.listBookNote()},resetCurrentPage:function(){this.currentPage=1},browseMore:function(){var t=this;this.currentPage++;var e={categoryId:this.categoryId,limit:this.pageSize,page:this.currentPage};e=T()(e,this.menuBookNoteParams),this.$http({url:this.$http.adornUrl("/bookNotes"),params:this.$http.adornParams(e),method:"get"}).then(function(e){var o=e.data;o&&200===o.code&&(o.page.totalPage<=o.page.currPage?t.noMoreData=!0:t.noMoreData=!1,t.bookNoteList=t.bookNoteList.concat(o.page.list))}).then(function(e){t.$refs.browseMore.stopLoading()}).catch(function(e){t.$refs.browseMore.stopLoading()})}},components:{"book-list-header":d,"book-page-content":g,"book-page-footer":y,"book-list-cell":b.a,"book-reading-cell":L,recommend:x.a,"tag-wall":M.a,"browse-more":P.a,"book-note-list-cell":_.a,"book-note-list-header":f.a}},w={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"book-list-content"},[o("iv-row",[o("iv-col",{attrs:{xs:24,sm:24,md:24,lg:17}},[o("div",{staticClass:"layout-left"},[o("div",{staticClass:"book-gallery"},[o("div",{staticClass:"swiper-wrapper"},t._l(t.readingBookList,function(t){return o("div",{key:t.id,staticClass:"swiper-slide"},[o("book-reading-cell",{attrs:{book:t}})],1)}),0),t._v(" "),o("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})]),t._v(" "),o("book-list-header",{attrs:{categorys:t.categoryList,defaultCategory:t.selected_category,mainTitle:"图书列表","sub-title":"Books"},on:{filterByMenu:t.filterByBookMenu,filterByCategory:t.filterByCategory}}),t._v(" "),t._l(t.bookList,function(t){return o("book-list-cell",{key:t.name,attrs:{book:t}})}),t._v(" "),o("book-note-list-header",{attrs:{filterList:t.bookNoteFilterList,mainTitle:"笔记列表","sub-title":"BookNotes"},on:{filterByMenu:t.filterByBookNoteMenu}}),t._v(" "),t._l(t.bookNoteList,function(t){return o("book-note-list-cell",{key:t.id,attrs:{bookNote:t}})}),t._v(" "),o("browse-more",{ref:"browseMore",attrs:{noMoreData:t.noMoreData},on:{browseMore:t.browseMore}})],2)]),t._v(" "),o("iv-col",{attrs:{xs:0,sm:0,md:0,lg:7}},[o("div",{staticClass:"layout-right"},[o("recommend"),t._v(" "),o("tag-wall",{staticStyle:{"margin-top":"15px"}})],1)])],1)],1)},staticRenderFns:[]};var F=o("VU/8")(S,w,!1,function(t){o("cNcJ")},null,null);e.default=F.exports},BcjT:function(t,e,o){"use strict";var i=o("0xDb"),a={props:{book:{Type:Object},type:""},mixins:[i.a],computed:{textOrderType:function(){return 2},imgOrderType:function(){return 2},textSpan:function(){return 24},imgSpan:function(){return 0},themeClass:function(){return""}}},s={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"book-cell"},[o("a",[o("iv-row",{attrs:{type:"flex"}},[o("iv-col",{staticStyle:{"padding-left":"0","padding-right":"0"},attrs:{xs:24,sm:24,md:t.textSpan,lg:t.textSpan,order:t.textOrderType}},[o("div",{staticClass:"text-wrapper"},[o("h4",{staticClass:"title"},[o("a",{attrs:{href:"/book/"+t.book.id}},[t._v(t._s(t.book.title))]),t._v(" "),t.book.reading>0?o("span",{staticClass:"special",attrs:{title:"正在阅读"}},[t._v("正在阅读")]):t._e()]),t._v(" "),o("div",{staticClass:"tags"},t._l(t.book.tagList,function(e,i){return o("iv-tag",{key:e.id,attrs:{color:t._f("mapTagColor")(i),type:"border"}},[t._v(t._s(e.name))])}),1),t._v(" "),o("p",{staticClass:"desc"},[t._v(t._s(t._f("textLineBreak")(t._f("filterHtml")(t.book.description),70))),o("a",{attrs:{href:"/book/"+t.book.id}},[t._v(" 查看更多\n            "),o("iv-icon",{attrs:{type:"arrow-right-b"}})],1)]),t._v(" "),o("p",{staticClass:"operate_info"},[o("span",{staticClass:"publish-time"},[t._v("At time / "),o("a",[t._v(t._s(t._f("socialDate")(t.book.createTime)))])]),t._v(" "),o("span",{staticClass:"readings"},[o("a",[o("iv-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(t.book.readNum)+" 阅读")],1)]),t._v(" "),o("span",{staticClass:"comments"},[o("a",[o("iv-icon",{attrs:{type:"compose"}}),t._v(" "+t._s(t.book.commentNum)+" 评论")],1)]),t._v(" "),o("span",{staticClass:"likes"},[o("a",[o("iv-icon",{attrs:{type:"heart"}}),t._v(" "+t._s(t.book.likeNum)+" 喜欢")],1)])])])]),t._v(" "),o("iv-col",{staticStyle:{"padding-left":"0px","padding-right":"0px"},attrs:{xs:0,sm:0,md:t.imgSpan,lg:t.imgSpan,order:t.imgOrderType}},[o("div",{staticClass:"img-wrapper",class:t.themeClass},[o("img",{attrs:{src:t.book.cover,alt:""}})])])],1)],1)])},staticRenderFns:[]};var r=o("VU/8")(a,s,!1,function(t){o("SQMd")},"data-v-1f6738c4",null);e.a=r.exports},SQMd:function(t,e){},VhkS:function(t,e){},XU0K:function(t,e){},cNcJ:function(t,e){},dab9:function(t,e,o){"use strict";var i=o("nQnN"),a=o("NXNv"),s=o("YbNP"),r=o("2QZS"),n={data:function(){return{defaultFilterList:r.a,categoryParam:{}}},components:{"section-title":i.a,"classify-menu":a.a,"title-menu-filter":s.a},props:{categorys:Array,mainTitle:"",subTitle:"",filterList:Array},methods:{filterByMenu:function(t){this.$emit("filterByMenu",t)},filterByCategory:function(t){this.$emit("filterByCategory",t)}}},l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"article-list-header"},[o("classify-menu",{attrs:{categorys:t.categorys},on:{filterByCategory:t.filterByCategory}}),t._v(" "),o("section-title",{attrs:{mainTitle:t.mainTitle,subTitle:t.subTitle}},[o("title-menu-filter",{attrs:{slot:"menu","menu-filter-list":t.filterList||t.defaultFilterList},on:{filterByMenu:t.filterByMenu},slot:"menu"})],1)],1)},staticRenderFns:[]};var c=o("VU/8")(n,l,!1,function(t){o("XU0K")},null,null);e.a=c.exports},jZ8x:function(t,e){},lgJa:function(t,e){}});